TODO: add tests for the API functions here.
